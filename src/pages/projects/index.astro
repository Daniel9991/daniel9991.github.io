---
import {getCollection} from 'astro:content'
import BaseLayout from "../../layouts/BaseLayout.astro";
import ProjectCard from '../../components/ProjectCard.astro';
import BaseLayoutWithHeaderFooter from '../../layouts/BaseLayoutWithHeaderFooter.astro';
import Container from '../../components/Container.astro';
const projects = (await getCollection('projects')).map(project => project.data)
const images = import.meta.glob('../../assets/images/projects/*', {
  eager: true,
  import: 'default',
}) as Record<string, ImageMetadata>;
---

<BaseLayoutWithHeaderFooter>
  <Container>
    <div class="mt-[24px] flex flex-col gap-[24px] list-none md:grid grid-cols-2">
      {projects.map(project => {
        const image = images[`../../assets/images/projects/${project.imgName}`];
  
        return (
          <ProjectCard project={project} image={image} />
      )})}
    </div>
  </Container>
</BaseLayoutWithHeaderFooter>
<style>
  .project-cards-wrapper{
    margin-top: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    padding-left: 24px;
    padding-right: 24px;
    list-style-type: none;
  }
</style>